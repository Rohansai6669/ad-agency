<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dynamic Brand Landing Page</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Arial", sans-serif;
        overflow: auto;
        width: 100vw;
        height: 100vh;
        background-color: #fffdfc;
        touch-action: none; /* Prevents default touch behaviors */
      }

      .brand-container {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 10;
        mix-blend-mode: difference;
        width: 100%;
        text-align: center;
      }

      .brand-name {
        font-size: 10vw;
        font-weight: bold;
        color: rgb(250, 247, 247);
        background: rgba(0, 0, 0, 0.5);
        text-align: center;
        letter-spacing: 2px;
        mix-blend-mode: difference;
        text-transform: uppercase;
        user-select: none;
        text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
      }

       .image-grid {
        columns: 4;
      } 

      @media (max-width: 768px) {
        .brand-name {
          font-size: 15vw;
        }
      }

      .image-grid {
        display: flex;
        flex-wrap: wrap;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        gap: 10px; /* Adds space between grid items */
        width: 90vw;
        margin: auto;
       
        /* display: flex;
            flex
            grid-template-columns: repeat(3, minmax(250px, 1fr));
            grid-gap: 16px;
            padding: 16px;
            width: 100%;
            height: 100%;*/
      }
      .image-grid {
        columns: 3;
        column-gap: 16px;
      }

      .image-item {
        width: calc(40.33% - 10px); /* 3 items per row */
        aspect-ratio: 1/1; /* Keeps each item square */
        background-color: #3498db;
        display: flex;
        justify-content: center;
        align-items: center;

        background-size: cover;
        position: relative;
        border-radius: 16px;
        overflow: hidden;
        break-inside: avoid;
        margin-bottom: 16px;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        cursor: pointer;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      .image-item:hover {
        z-index: 5;
        transform: scale(1.05);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
      }

      /* Animation for images */
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: scale(0.9);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      .detail-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.9);
        z-index: 20;
        display: none;
        justify-content: center;
        align-items: center;
        padding: 2rem;
        flex-direction: column;
        color: white;
        overflow-y: auto;
      }

      .detail-content {
        max-width: 800px;
        width: 90%;
        text-align: center;
        animation: fadeIn 0.5s ease;
      }

      .detail-image {
        width: 100%;
        max-height: 60vh;
        object-fit: contain;
        margin-bottom: 2rem;
        border-radius: 8px;
      }

      .detail-title {
        font-size: 2.5rem;
        margin-bottom: 1rem;
      }

      @media (max-width: 768px) {
        .detail-title {
          font-size: 1.8rem;
        }

        .detail-description {
          font-size: 1rem;
        }
      }

      .detail-description {
        font-size: 1.2rem;
        line-height: 1.6;
        margin-bottom: 2rem;
      }

      .close-button {
        position: absolute;
        top: 2rem;
        right: 2rem;
        background: none;
        border: none;
        color: white;
        font-size: 2rem;
        cursor: pointer;
      }

      .back-button {
        padding: 12px 24px;
        background: white;
        color: black;
        border: none;
        border-radius: 30px;
        font-size: 16px;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .back-button:hover {
        background: #eee;
        transform: scale(1.05);
      }

      @media (max-width: 768px) {
        .close-button {
          top: 1rem;
          right: 1rem;
          font-size: 1.5rem;
        }

        .detail-overlay {
          padding: 1rem;
        }

        .image-item {
          margin: 8px; /* Smaller gap on mobile */
        }
      }

      /* Instructions overlay for mobile */
      .instructions {
        position: fixed;
        bottom: 20px;
        left: 0;
        width: 100%;
        text-align: center;
        color: white;
        background: rgba(0, 0, 0, 0.5);
        padding: 10px;
        z-index: 8;
        font-size: 14px;
        opacity: 1;
        transition: opacity 0.5s ease;
      }

      .hide-instructions {
        opacity: 0;
      }
    </style>
  </head>
  <body>
    <!-- Centered Brand Name -->
    <div class="brand-container">
      <h1 class="brand-name">PHEME</h1>
    </div>

    <!-- Image Grid Background -->
    <div class="image-grid" id="imageGrid">
      <!-- Images will be added dynamically with JavaScript -->
    </div>

    <!-- Mobile Instructions -->
    <div class="instructions" id="instructions">
      Move cursor to explore • Tap images to view details
    </div>

    <!-- Detail Page Overlay -->
    <div class="detail-overlay" id="detailOverlay">
      <button class="close-button" id="closeDetail">×</button>
      <div class="detail-content" id="detailContent">
        <!-- Content will be dynamically populated -->
      </div>
    </div>

    <script>
      // Expanded image data for 16+ images
      const imageData = [
        {
          id: 1,
          url: "./images/1.jpg",
          title: "Image Title 1",
          description:
            "Lorem ipsum dolor sit amet, consectetur adipiscing elit.",
        },
        {
          id: 2,
          url: "./images/2.jpg",
          title: "Image Title 2",
          description:
            "Lorem ipsum dolor sit amet, consectetur adipiscing elit.",
        },
        {
          id: 3,
          url: "./images/3.jpg",
          title: "Image Title 3",
          description:
            "Lorem ipsum dolor sit amet, consectetur adipiscing elit.",
        },
        {
          id: 4,
          url: "./images/4.jpg",
          title: "Image Title 4",
          description:
            "Lorem ipsum dolor sit amet, consectetur adipiscing elit.",
        },
        {
          id: 5,
          url: "./images/5.jpg",
          title: "Image Title 5",
          description:
            "Lorem ipsum dolor sit amet, consectetur adipiscing elit.",
        },
        {
          id: 6,
          url: "./images/6.jpg",
          title: "Image Title 6",
          description:
            "Lorem ipsum dolor sit amet, consectetur adipiscing elit.",
        },
        {
          id: 7,
          url: "./images/7.jpg",
          title: "Image Title 7",
          description:
            "Lorem ipsum dolor sit amet, consectetur adipiscing elit.",
        },
        {
          id: 8,
          url: "./images/8.jpg",
          title: "Image Title 8",
          description:
            "Lorem ipsum dolor sit amet, consectetur adipiscing elit.",
        },
        {
          id: 9,
          url: "./images/9.jpg",
          title: "Image Title 9",
          description:
            "Lorem ipsum dolor sit amet, consectetur adipiscing elit.",
        },
        ,
        {
          id: 10,
          url: "./images/3.jpg",
          title: "Image Title 10",
          description:
            "Lorem ipsum dolor sit amet, consectetur adipiscing elit.",
        },
      ];

      // Create and position the image elements in zig-zag strips
      function createImageGrid() {
        const grid = document.getElementById("imageGrid");
        grid.innerHTML = ""; // Clear existing images

        const isMobile = window.innerWidth <= 768;

        // Number of horizontal strips
        const strips = isMobile ? 4 : 5;

        // Calculate image dimensions
        const imageWidth = isMobile ? 35 : 20; // percentage of screen width
        const imageHeight = isMobile ? 20 : 18; // percentage of screen height

        imageData.forEach((image, index) => {
          const imageElement = document.createElement("div");
          imageElement.className = "image-item";
          imageElement.style.backgroundImage = `url(${image.url})`;

          // Set size with slight variation
          // const widthVariation = Math.random() * 5 - 2.5; // -2.5% to +2.5%
          //const heightVariation = Math.random() * 5 - 2.5; // -2.5% to +2.5%

          //imageElement.style.width = `${imageWidth + widthVariation}%`;
          //imageElement.style.height = `${imageHeight + heightVariation}%`;

          // Determine which strip this image belongs to
          const stripIndex = index % strips;

          // Calculate y-position based on strip
          const stripHeight = 100 / strips;
          const baseY =
            stripIndex * stripHeight +
            (stripHeight - parseFloat(imageElement.style.height)) / 2;

          // Calculate x-position in a zig-zag pattern
          // Images in odd-numbered strips go right-to-left
          const imagesPerStrip = Math.ceil(imageData.length / strips);
          const positionInStrip = Math.floor(index / strips);
          const isReverseStrip = stripIndex % 2 === 1;

          let posX;
          if (isReverseStrip) {
            // Right-to-left strips
            posX =
              100 -
              positionInStrip * (100 / imagesPerStrip) -
              parseFloat(imageElement.style.width) / 2;
          } else {
            // Left-to-right strips
            posX = positionInStrip * (100 / imagesPerStrip);
          }

          // Add random offset for natural look
          const offsetX = Math.random() * 20 - 10; // -10% to +10%
          const offsetY = Math.random() * 10 - 5; // -5% to +5%

          // Apply position
          //imageElement.style.left = `${posX + offsetX}%`;
          //imageElement.style.top = `${baseY + offsetY}%`;

          // Add animation with delay based on index
          imageElement.style.animation = `fadeIn 0.8s ease ${
            index * 0.1
          }s forwards`;
          imageElement.style.opacity = "0";

          // Store the image data
          imageElement.dataset.id = image.id;

          grid.appendChild(imageElement);
        });

        // Add click listeners after all elements are created
        const imageItems = document.querySelectorAll(".image-item");
        imageItems.forEach((item) => {
          item.addEventListener("click", (e) => {
            const imageId = parseInt(item.dataset.id);
            const image = imageData.find((img) => img.id === imageId);
            showDetail(image);
            e.stopPropagation();
          });
        });
      }

      // Show detail page for clicked image
      function showDetail(image) {
        const overlay = document.getElementById("detailOverlay");
        const content = document.getElementById("detailContent");

        // Populate content
        content.innerHTML = `
                <img src="${image.url}" alt="${image.title}" class="detail-image">
                <h2 class="detail-title">${image.title}</h2>
                <p class="detail-description">${image.description}</p>
                <button class="back-button">Explore More</button>
            `;

        overlay.style.display = "flex";

        // Prevent scrolling on the main page
        document.body.style.overflow = "hidden";

        // Add event listener to the back button
        const backButton = content.querySelector(".back-button");
        backButton.addEventListener("click", closeDetail);
      }

      // Close detail page
      function closeDetail() {
        const overlay = document.getElementById("detailOverlay");
        overlay.style.display = "none";

        // Re-enable scrolling
        document.body.style.overflow = "auto";
      }

      // Handle cursor-based movement
      function handleMouseMove(e) {
        const grid = document.getElementById("imageGrid");

        // Get the mouse position relative to the center of the screen
        const mouseX = e.clientX;
        const mouseY = e.clientY;
        const centerX = window.innerWidth / 2;
        const centerY = window.innerHeight / 2;

        // Calculate the distance from center (normalized to -1 to 1)
        const distX = (mouseX - centerX) / centerX;
        const distY = (mouseY - centerY) / centerY;

        // Movement factor - how much the background moves
        const moveFactor = 30; // Pixels to move

        // Apply inverse movement (cursor right = background left)
        const moveX = -distX * moveFactor;
        const moveY = -distY * moveFactor;

        // Apply the transform with smooth transition
        grid.style.transform = `translate(${moveX}px, ${moveY}px)`;
      }

      // Handle touch movement for mobile
      function handleTouchMove(e) {
        if (e.touches.length !== 1) return;

        // Simulate mouse event from touch
        const touch = e.touches[0];
        const mouseEvent = {
          clientX: touch.clientX,
          clientY: touch.clientY,
        };

        handleMouseMove(mouseEvent);

        // Hide instructions after first interaction
        const instructions = document.getElementById("instructions");
        if (
          instructions &&
          !instructions.classList.contains("hide-instructions")
        ) {
          instructions.classList.add("hide-instructions");
          setTimeout(() => {
            instructions.style.display = "none";
          }, 500);
        }
      }

      // Initialize the page
      document.addEventListener("DOMContentLoaded", () => {
        createImageGrid();

        // Set up close button event
        document
          .getElementById("closeDetail")
          .addEventListener("click", closeDetail);

        // Set up cursor movement listeners
        document.addEventListener("mousemove", handleMouseMove);
        document.addEventListener("touchmove", handleTouchMove, {
          passive: true,
        });

        // Handle window resize
        window.addEventListener("resize", () => {
          createImageGrid();
        });

        // Handle screen orientation change for mobile
        window.addEventListener("orientationchange", () => {
          setTimeout(createImageGrid, 100); // Small delay to ensure dimensions are updated
        });
      });
    </script>
  </body>
</html>
